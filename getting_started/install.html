<!DOCTYPE html><head><meta charset="UTF-8"><title>Install FERRET | Ferret</title><link href="../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../css/katex_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../contrib/katex/katex.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Ferret</a><a href="https://github.com/mangerij/ferret" class="right"><img src="../media/framework/github-logo.png" class="github-mark"></img><img src="../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="9545aea6-2b15-4676-988c-e1c37592afab" data-constrainWidth="false">Get Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="a953985e-6712-4690-851f-3a6fd3f58191" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="a1540802-5de8-4a22-b653-db0b70facdc0" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="3de7a3bf-0061-489b-acc3-25b7cf151295" data-constrainWidth="false">EU Horizon2020-IF<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../publication_highlights/publication_highlights.html">Highlights</a></li><li><a href="#!" class="dropdown-trigger" data-target="f736f7fe-4b2c-4fed-adf8-48d07f01fceb" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../contribute/index.html">Contact</a></li></ul><a href="#" class="sidenav-trigger" data-target="91e9e6fd-ee8e-458e-9b23-47168599553a"><i class="material-icons">menu</i></a><ul class="sidenav" id="91e9e6fd-ee8e-458e-9b23-47168599553a"><li><a href="#!" class="dropdown-trigger" data-target="410d7c2c-650b-408d-b460-45ba3b07072c" data-constrainWidth="false">Get Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="8d65f8e0-bc60-4dcb-a617-4caf8c283e60" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="a936ef10-9e64-40a0-8356-6f560f06f513" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="e17cabf1-c790-43f3-949c-a2c2fabe992e" data-constrainWidth="false">EU Horizon2020-IF<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../publication_highlights/publication_highlights.html">Highlights</a></li><li><a href="#!" class="dropdown-trigger" data-target="802bcebb-05ca-43cc-ba00-232c65faf366" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../contribute/index.html">Contact</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="9545aea6-2b15-4676-988c-e1c37592afab"><li><a href="install.html">Install FERRET</a></li><li><a href="update.html">Update FERRET</a></li><li><a href="running.html">Running FERRET</a></li><li><a href="paraview.html">Visualization Tools</a></li><li><a href="docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="a953985e-6712-4690-851f-3a6fd3f58191"><li><a href="../theory/intro_LGD.html">Phase Field Method of Ferroelectricity (FE)</a></li><li><a href="../theory/intro_LLG.html">Micromagnetic Simulations</a></li><li><a href="../theory/intro_piezo.html">Piezoelectricity</a></li><li><a href="../theory/intro_thermo.html">Thermoelectric Phenomena</a></li><li><a href="../theory/intro_optical.html">Optical Properties</a></li></ul><ul class="dropdown-content" id="a1540802-5de8-4a22-b653-db0b70facdc0"><li><a href="../tutorials/FE_phase_field_multi_domain.html">Multidomain ferroelectric</a></li><li><a href="../tutorials/ferroelectric_domain_wall.html">Ferroelectric domain wall</a></li><li><a href="../tutorials/FE_phase_field_multi_domain_coupled.html">Ferroelectric thin film</a></li><li><a href="../tutorials/magnetic_ringdown.html">Magnetic ringdown</a></li><li><a href="../tutorials/AFM_dynamics.html">Antiferromagnetic dynamics</a></li><li><a href="../tutorials/piezoelectric.html">Piezoelectric actuation</a></li><li><a href="../tutorials/thermoelectric.html">Polycrystalline thermoelectric transport</a></li></ul><ul class="dropdown-content" id="3de7a3bf-0061-489b-acc3-25b7cf151295"><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_results1.html">Background and model</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_results2.html">Summary of key results</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex1.html">Example (ground states)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex2.html">Example (FE DWs)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex3.html">Example (magnetic DWs)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex4.html">Example (ME switching)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex5.html">Example (spin wave transport)</a></li></ul><ul class="dropdown-content" id="f736f7fe-4b2c-4fed-adf8-48d07f01fceb"><li><a href="../syntax/index.html">Complete syntax</a></li><li><a href="../syntax/ferret_only_syntax.html">FERRET syntax</a></li></ul><ul class="dropdown-content" id="410d7c2c-650b-408d-b460-45ba3b07072c"><li><a href="install.html">Install FERRET</a></li><li><a href="update.html">Update FERRET</a></li><li><a href="running.html">Running FERRET</a></li><li><a href="paraview.html">Visualization Tools</a></li><li><a href="docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="8d65f8e0-bc60-4dcb-a617-4caf8c283e60"><li><a href="../theory/intro_LGD.html">Phase Field Method of Ferroelectricity (FE)</a></li><li><a href="../theory/intro_LLG.html">Micromagnetic Simulations</a></li><li><a href="../theory/intro_piezo.html">Piezoelectricity</a></li><li><a href="../theory/intro_thermo.html">Thermoelectric Phenomena</a></li><li><a href="../theory/intro_optical.html">Optical Properties</a></li></ul><ul class="dropdown-content" id="a936ef10-9e64-40a0-8356-6f560f06f513"><li><a href="../tutorials/FE_phase_field_multi_domain.html">Multidomain ferroelectric</a></li><li><a href="../tutorials/ferroelectric_domain_wall.html">Ferroelectric domain wall</a></li><li><a href="../tutorials/FE_phase_field_multi_domain_coupled.html">Ferroelectric thin film</a></li><li><a href="../tutorials/magnetic_ringdown.html">Magnetic ringdown</a></li><li><a href="../tutorials/AFM_dynamics.html">Antiferromagnetic dynamics</a></li><li><a href="../tutorials/piezoelectric.html">Piezoelectric actuation</a></li><li><a href="../tutorials/thermoelectric.html">Polycrystalline thermoelectric transport</a></li></ul><ul class="dropdown-content" id="e17cabf1-c790-43f3-949c-a2c2fabe992e"><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_results1.html">Background and model</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_results2.html">Summary of key results</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex1.html">Example (ground states)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex2.html">Example (FE DWs)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex3.html">Example (magnetic DWs)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex4.html">Example (ME switching)</a></li><li><a href="../MSCA_EU_Horizon2020_Results/horizon2020_ex5.html">Example (spin wave transport)</a></li></ul><ul class="dropdown-content" id="802bcebb-05ca-43cc-ba00-232c65faf366"><li><a href="../syntax/index.html">Complete syntax</a></li><li><a href="../syntax/ferret_only_syntax.html">FERRET syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="5b21de08-df21-4021-ad6b-6fd5edbfe172" data-section-level="1" data-section-text="Install FERRET"><h1 id="install-ferret">Install FERRET</h1><p>FERRET leverages the integration of multiple high-quality open-source scientific computing projects.</p><ul class="browser-default"><li><p>FERRET is built upon <a href="https://mooseframework.inl.gov/">MOOSE</a>, an object oriented parallel FEM framework. </p></li><li><p>MOOSE is built upon <a href="http://libmesh.github.io/">libMesh</a>, a C++ FEM library, to utilize its FEM basics. </p></li><li><p>Both MOOSE and libMesh rely on many other tools, such as <a href="https://www.mcs.anl.gov/petsc/">PETSc</a>.</p></li></ul><p>Therefore, it can be complicated to get FERRET to work -especially on a high-performance computing (HPC) cluster.</p><p>Fortunately, the installation process has been thoroughly tested for many different operating systems and HPC configurations. The installation process can be summarized in the following steps, each of which should only take a handful of commands.</p><section id="7c535574-cf5a-498c-b9aa-5e78c84475ad" data-section-level="3" data-section-text="Step 1 : Install dependencies"><h3 style="line-height:150%;" id="step-1-install-dependencies">Step 1: Install dependencies</h3><p>First, follow <a href="conda.html">these instructions</a> to install environment packages for MOOSE and FERRET.</p></section><section id="0009ddf6-3dee-478e-8f73-c50ddc23ec76" data-section-level="3" data-section-text="Step 2 : Clone FERRET"><h3 style="line-height:150%;" id="step-2-clone-ferret">Step 2: Clone FERRET</h3><p>Next, clone FERRET to your local projects directory:</p><pre class="moose-pre"><code class="language-bash">
mkdir ~/projects
cd ~/projects
git clone https://github.com/mangerij/ferret.git
./configure
cd ferret
git checkout master
git submodule update --init --recursive
</code></pre><p>These commands should download a copy of FERRET and a copy of MOOSE (as a submodule) to your local projects directory.</p><blockquote><p><strong>[Optional]</strong> In Step 1, if you didn&#x27;t choose to include moose-libmesh in your Conda environment (typically on HPC systems where Conda is not suggested), you need to compile PETSc and libMesh using</p><pre class="moose-pre"><code class="language-bash">
./moose/scripts/update_and_rebuild_petsc.sh
./moose/scripts/update_and_rebuild_libmesh.sh
</code></pre></blockquote></section><section id="62dedd28-3102-4ef6-a5b3-b21b83bdd6c9" data-section-level="3" data-section-text="Step 3 : Compile FERRET"><h3 style="line-height:150%;" id="step-3-compile-ferret">Step 3: Compile FERRET</h3><p>Next, you can compile FERRET using</p><pre class="moose-pre"><code class="language-bash">
make -j N
</code></pre><p>where <code>N</code> is the number of processors you want to use to compile FERRET in parallel.</p><blockquote><p><strong>[Optional]</strong> To make sure FERRET is working properly, run the regression tests:</p><pre class="moose-pre"><code class="language-bash">
 ./run_tests -j N
</code></pre></blockquote></section><section id="edf30af6-00d3-4bdd-9669-edc80df1f98b" data-section-level="3" data-section-text="Step 4 ( optional ) : Compile with ScalFMM to use the fast - multipole boundary element method"><h3 id="step-4-optional-compile-with-scalfmm-to-use-the-fast-multipole-boundary-element-method">Step 4 (optional): Compile with ScalFMM to use the fast-multipole boundary element method</h3><p>The <code>./configure</code> step can include additional libraries such as BOOST which will allow compile of MOOSE objects with mathematical special functions. Or it can include an advanced fast-multipole boundary element method (FMM-BEM) developed by Prof. Xikai Jiang and co-workers. In order to use the BEM, you need to compile ScalFMM with the following commands</p><pre class="moose-pre"><code class="language-bash">
cd &lt;ferret&gt;/scripts
sh ./build_scalfmm_local
(may encounter an error)
sh ./build_scalfmm_local
cd &lt;ferret&gt;
./configure --with-scalfmm=ScalFMM
make -j2
</code></pre><p>For compilation of this <span class="moose-katex-inline-equation" id="moose-equation-40c762c2-9287-4c69-b1b0-25d3637bbb84"><script>var element = document.getElementById("moose-equation-40c762c2-9287-4c69-b1b0-25d3637bbb84");katex.render("O(\\mathrm{N})", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\grad":"\\bs{\\nabla}","\\divergence":"\\grad \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\abs":"\\left\\lvert#1\\right\\rvert","\\tr":"\\text{tr}","\\dev":"\\text{dev}","\\sym":"\\text{sym}","\\diff":"\\text{ d}#1","\\activepart":"{\\left< A \\right>}","\\inactivepart":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\ep":"{\\varepsilon^p}","\\ep0":"{\\varepsilon_0^p}","\\epdot":"{\\dot{\\varepsilon}}^p","\\epdot0":"{\\dot{\\varepsilon}}_0^p","\\bfa":"\\boldsymbol{a}","\\bfb":"\\boldsymbol{b}","\\bfc":"\\boldsymbol{c}","\\bfd":"\\boldsymbol{d}","\\bfe":"\\boldsymbol{e}","\\bff":"\\boldsymbol{f}","\\bfg":"\\boldsymbol{g}","\\bfh":"\\boldsymbol{h}","\\bfi":"\\boldsymbol{i}","\\bfj":"\\boldsymbol{j}","\\bfk":"\\boldsymbol{k}","\\bfl":"\\boldsymbol{l}","\\bfm":"\\boldsymbol{m}","\\bfn":"\\boldsymbol{n}","\\bfo":"\\boldsymbol{o}","\\bfp":"\\boldsymbol{p}","\\bfq":"\\boldsymbol{q}","\\bfr":"\\boldsymbol{r}","\\bfs":"\\boldsymbol{s}","\\bft":"\\boldsymbol{t}","\\bfu":"\\boldsymbol{u}","\\bfv":"\\boldsymbol{v}","\\bfw":"\\boldsymbol{w}","\\bfx":"\\boldsymbol{x}","\\bfy":"\\boldsymbol{y}","\\bfz":"\\boldsymbol{z}","\\bfA":"\\boldsymbol{A}","\\bfB":"\\boldsymbol{B}","\\bfC":"\\boldsymbol{C}","\\bfD":"\\boldsymbol{D}","\\bfE":"\\boldsymbol{E}","\\bfF":"\\boldsymbol{F}","\\bfG":"\\boldsymbol{G}","\\bfH":"\\boldsymbol{H}","\\bfI":"\\boldsymbol{I}","\\bfJ":"\\boldsymbol{J}","\\bfK":"\\boldsymbol{K}","\\bfL":"\\boldsymbol{L}","\\bfM":"\\boldsymbol{M}","\\bfN":"\\boldsymbol{N}","\\bfO":"\\boldsymbol{O}","\\bfP":"\\boldsymbol{P}","\\bfQ":"\\boldsymbol{Q}","\\bfR":"\\boldsymbol{R}","\\bfS":"\\boldsymbol{S}","\\bfT":"\\boldsymbol{T}","\\bfU":"\\boldsymbol{U}","\\bfV":"\\boldsymbol{V}","\\bfW":"\\boldsymbol{W}","\\bfX":"\\boldsymbol{X}","\\bfY":"\\boldsymbol{Y}","\\bfZ":"\\boldsymbol{Z}"}});</script></span> solver on supercomputing resources, it is recommended to avoid the <code>./configure</code> step and manually set the <code>FERRET_HAVE_SCALFMM</code> flag. The generation of the M2L compressors for the FMM-BEM should be done in serial and then can be read on any number of processors. The <code>M2L</code> compressor files do not depend on the <code>Mesh</code>, but only the flags of the FMM-BEM method.</p><p>This is an experimental feature at the moment and we plan to extend this capability further. More reading at <a href="#Jiang2016">Jiang et al. (2016)</a>. </p></section></section><section id="c7fbb5a5-e946-4f1a-895b-6e45c8d60717" data-section-level="2" data-section-text="References"><h2 id="references">References</h2><div class="moose-bibliography"><ol><li id="Jiang2016">X.&nbsp;Jiang, J.&nbsp;Li, X.&nbsp;Zhao, J.&nbsp;Qin, D.&nbsp;Karpeev, J.&nbsp;Hernandez-Ortiz, J.&nbsp;J. de&nbsp;Pablo, and O.&nbsp;Heinonen.
<span class="bibtex-protected">An O(N) and parallel approach to integral problems by a kernel-independent fast multipole method: Application to polarization and magnetization of interacting particles</span>.
<em>Journal of Chemical Physics</em>, 2016.<a href="#7d48fe9c-4b38-4a1d-a6a7-ca7af0b1d6f1" class="modal-trigger moose-bibtex-modal" style="padding-left:10px;">[BibTeX]</a><div class="modal" id="7d48fe9c-4b38-4a1d-a6a7-ca7af0b1d6f1"><div class="modal-content"><pre style="line-height:1.25;"><code class="language-latex">@article{Jiang2016,
    author = "Jiang, X. and Li, J. and Zhao, X. and Qin, J. and Karpeev, D. and Hernandez-Ortiz, J. and de Pablo, J. J. and Heinonen, O.",
    title = "{An O(N) and parallel approach to integral problems by a kernel-independent fast multipole method: Application to polarization and magnetization of interacting particles}",
    volume = "145",
    issue = "064309",
    year = "2016",
    journal = "Journal of Chemical Physics"
}
</code></pre></div></div></li></ol></div></section></div></div></div></main></div></body><script type="text/javascript" src="../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../js/init.js"></script><script type="text/javascript" src="../js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="../js/sqa_moose.js"></script>