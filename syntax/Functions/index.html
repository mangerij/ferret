<!DOCTYPE html><head><meta charset="UTF-8"><title>Functions System | Ferret</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Ferret</a><a href="https://github.com/mangerij/ferret" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="180b50c0-4b02-4f6f-a5c3-dbf34614fe27" data-constrainWidth="false">Get Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="751de2bc-d8f6-4bdf-adcf-8974a8747883" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="011e1fab-630c-43d6-8028-37d968d20385" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="820b24fc-ac33-415f-8109-aed5d6a824ae" data-constrainWidth="false">EU Horizon2020-IF<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../publication_highlights/publication_highlights.html">Highlights</a></li><li><a href="#!" class="dropdown-trigger" data-target="9938c145-ec67-45ee-a6f5-5be9e01b7995" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../contribute/index.html">Contact</a></li></ul><a href="#" class="sidenav-trigger" data-target="c745b158-bd2e-4890-9218-1374e8ddaebf"><i class="material-icons">menu</i></a><ul class="sidenav" id="c745b158-bd2e-4890-9218-1374e8ddaebf"><li><a href="#!" class="dropdown-trigger" data-target="83bf41c8-d1ee-4fcd-90f7-2c56e5b1487a" data-constrainWidth="false">Get Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="07571aff-9fa5-4fac-80fe-c2b646b445af" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="042bdbe6-67ce-4886-b15f-d15b5745e8d6" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="9c0f2979-5799-4dfe-87ed-11dc07d6ce84" data-constrainWidth="false">EU Horizon2020-IF<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../publication_highlights/publication_highlights.html">Highlights</a></li><li><a href="#!" class="dropdown-trigger" data-target="f869bab6-38aa-4ff4-abcf-ca6cb1026fb8" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../contribute/index.html">Contact</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="180b50c0-4b02-4f6f-a5c3-dbf34614fe27"><li><a href="../../getting_started/install.html">Install FERRET</a></li><li><a href="../../getting_started/update.html">Update FERRET</a></li><li><a href="../../getting_started/running.html">Running FERRET</a></li><li><a href="../../getting_started/paraview.html">Visualization Tools</a></li><li><a href="../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="751de2bc-d8f6-4bdf-adcf-8974a8747883"><li><a href="../../theory/intro_LGD.html">Phase Field Method of Ferroelectricity (FE)</a></li><li><a href="../../theory/intro_LLG.html">Micromagnetic Simulations</a></li><li><a href="../../theory/intro_piezo.html">Piezoelectricity</a></li><li><a href="../../theory/intro_thermo.html">Thermoelectric Phenomena</a></li><li><a href="../../theory/intro_optical.html">Optical Properties</a></li></ul><ul class="dropdown-content" id="011e1fab-630c-43d6-8028-37d968d20385"><li><a href="../../tutorials/FE_phase_field_multi_domain.html">Multidomain ferroelectric</a></li><li><a href="../../tutorials/ferroelectric_domain_wall.html">Ferroelectric domain wall</a></li><li><a href="../../tutorials/FE_phase_field_multi_domain_coupled.html">Ferroelectric thin film</a></li><li><a href="../../tutorials/magnetic_ringdown.html">Magnetic ringdown</a></li><li><a href="../../tutorials/AFM_dynamics.html">Antiferromagnetic dynamics</a></li><li><a href="../../tutorials/piezoelectric.html">Piezoelectric actuation</a></li><li><a href="../../tutorials/thermoelectric.html">Polycrystalline thermoelectric transport</a></li></ul><ul class="dropdown-content" id="820b24fc-ac33-415f-8109-aed5d6a824ae"><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_results1.html">Background and model</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_results2.html">Summary of key results</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex1.html">Example (ground states)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex2.html">Example (FE DWs)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex3.html">Example (magnetic DWs)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex4.html">Example (ME switching)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex5.html">Example (spin wave transport)</a></li></ul><ul class="dropdown-content" id="9938c145-ec67-45ee-a6f5-5be9e01b7995"><li><a href="../index.html">Complete syntax</a></li><li><a href="../ferret_only_syntax.html">FERRET syntax</a></li></ul><ul class="dropdown-content" id="83bf41c8-d1ee-4fcd-90f7-2c56e5b1487a"><li><a href="../../getting_started/install.html">Install FERRET</a></li><li><a href="../../getting_started/update.html">Update FERRET</a></li><li><a href="../../getting_started/running.html">Running FERRET</a></li><li><a href="../../getting_started/paraview.html">Visualization Tools</a></li><li><a href="../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="07571aff-9fa5-4fac-80fe-c2b646b445af"><li><a href="../../theory/intro_LGD.html">Phase Field Method of Ferroelectricity (FE)</a></li><li><a href="../../theory/intro_LLG.html">Micromagnetic Simulations</a></li><li><a href="../../theory/intro_piezo.html">Piezoelectricity</a></li><li><a href="../../theory/intro_thermo.html">Thermoelectric Phenomena</a></li><li><a href="../../theory/intro_optical.html">Optical Properties</a></li></ul><ul class="dropdown-content" id="042bdbe6-67ce-4886-b15f-d15b5745e8d6"><li><a href="../../tutorials/FE_phase_field_multi_domain.html">Multidomain ferroelectric</a></li><li><a href="../../tutorials/ferroelectric_domain_wall.html">Ferroelectric domain wall</a></li><li><a href="../../tutorials/FE_phase_field_multi_domain_coupled.html">Ferroelectric thin film</a></li><li><a href="../../tutorials/magnetic_ringdown.html">Magnetic ringdown</a></li><li><a href="../../tutorials/AFM_dynamics.html">Antiferromagnetic dynamics</a></li><li><a href="../../tutorials/piezoelectric.html">Piezoelectric actuation</a></li><li><a href="../../tutorials/thermoelectric.html">Polycrystalline thermoelectric transport</a></li></ul><ul class="dropdown-content" id="9c0f2979-5799-4dfe-87ed-11dc07d6ce84"><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_results1.html">Background and model</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_results2.html">Summary of key results</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex1.html">Example (ground states)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex2.html">Example (FE DWs)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex3.html">Example (magnetic DWs)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex4.html">Example (ME switching)</a></li><li><a href="../../MSCA_EU_Horizon2020_Results/horizon2020_ex5.html">Example (spin wave transport)</a></li></ul><ul class="dropdown-content" id="f869bab6-38aa-4ff4-abcf-ca6cb1026fb8"><li><a href="../index.html">Complete syntax</a></li><li><a href="../ferret_only_syntax.html">FERRET syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="9e9f7ca2-16b1-401a-b16d-d78508b0cfa4" data-section-level="1" data-section-text="Functions System"><h1 id="functions-system">Functions System</h1><section id="477c4162-ebdc-47f2-a16f-d44a5833bcb4" data-section-level="2" data-section-text="Overview"><h2 id="overview">Overview</h2><p><code>Function</code>s are used to define functions depending only on spatial position and time: <span class="moose-katex-inline-equation" id="moose-equation-ee457e45-4c58-4d13-a040-644781abe011"><script>var element = document.getElementById("moose-equation-ee457e45-4c58-4d13-a040-644781abe011");katex.render("f(x,y,z,t)", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\grad":"\\bs{\\nabla}","\\divergence":"\\grad \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\abs":"\\left\\lvert#1\\right\\rvert","\\tr":"\\text{tr}","\\dev":"\\text{dev}","\\sym":"\\text{sym}","\\diff":"\\text{ d}#1","\\activepart":"{\\left< A \\right>}","\\inactivepart":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\ep":"{\\varepsilon^p}","\\ep0":"{\\varepsilon_0^p}","\\epdot":"{\\dot{\\varepsilon}}^p","\\epdot0":"{\\dot{\\varepsilon}}_0^p","\\bfa":"\\boldsymbol{a}","\\bfb":"\\boldsymbol{b}","\\bfc":"\\boldsymbol{c}","\\bfd":"\\boldsymbol{d}","\\bfe":"\\boldsymbol{e}","\\bff":"\\boldsymbol{f}","\\bfg":"\\boldsymbol{g}","\\bfh":"\\boldsymbol{h}","\\bfi":"\\boldsymbol{i}","\\bfj":"\\boldsymbol{j}","\\bfk":"\\boldsymbol{k}","\\bfl":"\\boldsymbol{l}","\\bfm":"\\boldsymbol{m}","\\bfn":"\\boldsymbol{n}","\\bfo":"\\boldsymbol{o}","\\bfp":"\\boldsymbol{p}","\\bfq":"\\boldsymbol{q}","\\bfr":"\\boldsymbol{r}","\\bfs":"\\boldsymbol{s}","\\bft":"\\boldsymbol{t}","\\bfu":"\\boldsymbol{u}","\\bfv":"\\boldsymbol{v}","\\bfw":"\\boldsymbol{w}","\\bfx":"\\boldsymbol{x}","\\bfy":"\\boldsymbol{y}","\\bfz":"\\boldsymbol{z}","\\bfA":"\\boldsymbol{A}","\\bfB":"\\boldsymbol{B}","\\bfC":"\\boldsymbol{C}","\\bfD":"\\boldsymbol{D}","\\bfE":"\\boldsymbol{E}","\\bfF":"\\boldsymbol{F}","\\bfG":"\\boldsymbol{G}","\\bfH":"\\boldsymbol{H}","\\bfI":"\\boldsymbol{I}","\\bfJ":"\\boldsymbol{J}","\\bfK":"\\boldsymbol{K}","\\bfL":"\\boldsymbol{L}","\\bfM":"\\boldsymbol{M}","\\bfN":"\\boldsymbol{N}","\\bfO":"\\boldsymbol{O}","\\bfP":"\\boldsymbol{P}","\\bfQ":"\\boldsymbol{Q}","\\bfR":"\\boldsymbol{R}","\\bfS":"\\boldsymbol{S}","\\bfT":"\\boldsymbol{T}","\\bfU":"\\boldsymbol{U}","\\bfV":"\\boldsymbol{V}","\\bfW":"\\boldsymbol{W}","\\bfX":"\\boldsymbol{X}","\\bfY":"\\boldsymbol{Y}","\\bfZ":"\\boldsymbol{Z}"}});</script></span>. These objects can serve a wide variety of purposes, including (but not limited to) the following:</p><ul class="browser-default"><li><p>defining initial conditions, </p></li><li><p>defining residual contributions (sources, boundary conditions, etc.), and </p></li><li><p>defining post-processing quantities.</p></li></ul><div class="card moose-alert moose-alert-note"><div class="card-title moose-alert-title"><i class="material-icons moose-inline-icon">comment</i><span class="moose-alert-title-brand">note:</span>Dependency on Solution Values</div><div class="card-content"><div class="moose-alert-content"><p>Note that there are exceptions to the rule that <code>Function</code>s only depend on space and time; for example, <a href="../../source/functions/MooseParsedFunction.html">ParsedFunction</a> may depend on post-processor values (which may depend on the solution) and scalar variable values.</p></div></div></div><p>Moose <code>Function</code>s should override the following member functions</p><ul class="browser-default"><li><p><code>Real value(Real, Point)</code> - returning the value of the function at a point in space and time </p></li><li><p><code>Real value(ADReal, ADPoint)</code> - the AD enabled version of the above function </p></li><li><p><code>Real timeDerivative(Real, Point)</code> - retuning the derivative of the function with respect to the first argument (time) </p></li><li><p><code>RealVectorValue gradient(Real, Point)</code> -  the spatial derivative with respect to the second argument</p></li></ul><p>For vector valued functions</p><ul class="browser-default"><li><p><code>RealVectorValue vectorValue(Real, Point)</code> - returning a vector value at a point in space and time </p></li><li><p><code>RealVectorValue vectorCurl(Real, Point)</code> - returning the curl of the function at a point in space and time</p></li></ul><p>can be overridden. The optional <code>Real integral()</code> and <code>Real average()</code> methods can also be overridden. Note that two overloads exist for the <code>value()</code> member function. This enables evaluation of functions with dual numbers. As most legacy function do not implement  an AD overload of the <code>value()</code> function, the <code>Function</code> base class automatically provides one that uses the non-AD <code>value()</code>, <code>timeDerivative()</code>, and <code>gradient()</code> member functions to construct an AD result. Check out <code>PiecewiseBilinear</code> to see how to update a function to support AD by using a templated <code>valueInternal()</code> function with virtual <code>value()</code> forwarders.</p><section id="d2c03bbb-9e49-4ffa-bdb6-bee54c6bd3c5" data-section-level="3" data-section-text="Functions as Functors"><h3 id="functions-as-functors">Functions as Functors</h3><p>Functions are <a href="../Functors/index.html">Functors</a>. Functors are an abstraction, a base class, for objects that can compute values at a location in space and time.</p><p>As <code>Functors</code>, they may be specified to objects such as the <a href="../../source/auxkernels/FunctorElementalAux.html">FunctorElementalAux</a> in their <a href="#ead0e57c-7611-4de1-bc2f-47f3a35a2542" class="moose-modal-link modal-trigger">&quot;functor&quot;</a> parameter. This vastly expands the number of objects that can use <code>Functions</code> to compute spatial quantities.</p><div class="card moose-alert moose-alert-note"><div class="card-title moose-alert-title"><i class="material-icons moose-inline-icon">comment</i><span class="moose-alert-title-brand">note</span></div><div class="card-content"><div class="moose-alert-content"><p>When making a new object using <code>Functions</code> to contribute back to MOOSE, we ask that you consider using <a href="../Functors/index.html">Functors</a> instead to naturally enable its use with variables and functor material properties.</p></div></div></div></section></section><section id="33b304a3-9aa9-430a-a721-52ee452978f6" data-section-level="2" data-section-text="Available Objects"><h2 id="available-objects">Available Objects</h2><ul class="moose-syntax-list collection with-header"><li class="collection-header">Moose App</li><li class="collection-item"><a href="../../source/functions/MooseParsedFunction.html">ADParsedFunction</a>Function created by parsing a string</li><li class="collection-item"><a href="../../source/functions/PiecewiseLinear.html">ADPiecewiseLinear</a>Linearly interpolates between pairs of x-y data</li><li class="collection-item"><a href="../../source/functions/Axisymmetric2D3DSolutionFunction.html">Axisymmetric2D3DSolutionFunction</a>Function for reading a 2D axisymmetric solution from file and mapping it to a 3D Cartesian model</li><li class="collection-item"><a href="../../source/functions/BicubicSplineFunction.html">BicubicSplineFunction</a>Define a bicubic spline function from interpolated data defined by input parameters.</li><li class="collection-item"><a href="../../source/functions/CoarsenedPiecewiseLinear.html">CoarsenedPiecewiseLinear</a>Perform a point reduction of the tabulated data upon initialization, then evaluate using a linear interpolation.</li><li class="collection-item"><a href="../../source/functions/CompositeFunction.html">CompositeFunction</a>Multiplies an arbitrary set of functions together</li><li class="collection-item"><a href="../../source/functions/ConstantFunction.html">ConstantFunction</a>A function that returns a constant value as defined by an input parameter.</li><li class="collection-item"><a href="../../source/functions/ImageFunction.html">ImageFunction</a>Function with values sampled from an image or image stack.</li><li class="collection-item"><a href="../../source/functions/LinearCombinationFunction.html">LinearCombinationFunction</a>Returns the linear combination of the functions</li><li class="collection-item"><a href="../../source/functions/MooseParsedFunction.html">ParsedFunction</a>Function created by parsing a string</li><li class="collection-item"><a href="../../source/functions/MooseParsedGradFunction.html">ParsedGradFunction</a>Defines a function and its gradient using input file parameters.</li><li class="collection-item"><a href="../../source/functions/MooseParsedVectorFunction.html">ParsedVectorFunction</a>Return a vector component values based on string functions for each component.</li><li class="collection-item"><a href="../../source/functions/PeriodicFunction.html">PeriodicFunction</a>Provides a periodic function by repeating a user-supplied base function in time and/or any of the three Cartesian coordinate directions</li><li class="collection-item"><a href="../../source/functions/PiecewiseBilinear.html">PiecewiseBilinear</a>Interpolates values from a csv file</li><li class="collection-item"><a href="../../source/functions/PiecewiseConstant.html">PiecewiseConstant</a>Defines data using a set of x-y data pairs</li><li class="collection-item"><a href="../../source/functions/PiecewiseConstantFromCSV.html">PiecewiseConstantFromCSV</a>Uses data read from CSV to assign values</li><li class="collection-item"><a href="../../source/functions/PiecewiseLinear.html">PiecewiseLinear</a>Linearly interpolates between pairs of x-y data</li><li class="collection-item"><a href="../../source/functions/PiecewiseLinearFromVectorPostprocessor.html">PiecewiseLinearFromVectorPostprocessor</a>Provides piecewise linear interpolation of from two columns of a VectorPostprocessor</li><li class="collection-item"><a href="../../source/functions/PiecewiseMulticonstant.html">PiecewiseMulticonstant</a>PiecewiseMulticonstant performs constant interpolation on 1D, 2D, 3D or 4D data.  The data_file specifies the axes directions and the function values.  If a point lies outside the data range, the appropriate end value is used.</li><li class="collection-item"><a href="../../source/functions/PiecewiseMultilinear.html">PiecewiseMultilinear</a>PiecewiseMultilinear performs linear interpolation on 1D, 2D, 3D or 4D data.  The data_file specifies the axes directions and the function values.  If a point lies outside the data range, the appropriate end value is used.</li><li class="collection-item"><a href="../../source/functions/SolutionFunction.html">SolutionFunction</a>Function for reading a solution from file.</li><li class="collection-item"><a href="../../source/functions/SplineFunction.html">SplineFunction</a>Define a spline function from interpolated data defined by input parameters.</li><li class="collection-item"><a href="../../source/functions/PiecewiseLinearFromVectorPostprocessor.html">VectorPostprocessorFunction</a>Provides piecewise linear interpolation of from two columns of a VectorPostprocessor</li><li class="collection-header">Ferret App</li><li class="collection-item"><a href="../../source/functions/S3DFourierNoise.html">S3DFourierNoise</a>Generate noise from a fourier series</li><li class="collection-item"><a href="../../source/functions/SDFourierNoise.html">SDFourierNoise</a>Generate noise from a fourier series</li><li class="collection-header">Phase Field App</li><li class="collection-item"><a href="../../source/functions/FourierNoise.html">FourierNoise</a>Generate noise from a fourier series</li></ul></section><section id="b1384207-b793-466e-add0-3c0a2eac86d2" data-section-level="2" data-section-text="Available Actions"><h2 id="available-actions">Available Actions</h2><ul class="moose-syntax-list collection with-header"><li class="collection-header">Moose App</li><li class="collection-item"><a href="../../source/actions/AddFunctionAction.html">AddFunctionAction</a>Add a Function object to the simulation.</li></ul></section></section><div class="moose-modal modal" id="ead0e57c-7611-4de1-bc2f-47f3a35a2542"><div class="modal-content"><h4>functor</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseFunctorName</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The functor to evaluate</p></div></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>