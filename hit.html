<!DOCTYPE html><head><meta charset="UTF-8"><title>The command | Ferret</title><link href="contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="css/moose.css" type="text/css" rel="stylesheet"></link><link href="css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Ferret</a><a href="https://github.com/mangerij/ferret" class="right"><img src="media/framework/github-logo.png" class="github-mark"></img><img src="media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="44d5de41-f357-429b-ba92-a17a61d7cf7d" data-constrainWidth="false">Get Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="9ff64a38-5a3c-451f-a5ea-add745d9c4e0" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="f7b724f0-97ea-4d3d-87c2-b1652cf39e66" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="d2f980d6-16bb-4590-a978-d09111cf34f9" data-constrainWidth="false">EU Horizon2020-IF<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="publication_highlights/publication_highlights.html">Highlights</a></li><li><a href="#!" class="dropdown-trigger" data-target="317b6a91-f8ca-4a22-af32-ed6ffb6bcef2" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="contribute/index.html">Contact</a></li></ul><a href="#" class="sidenav-trigger" data-target="d8282e0a-7afc-4422-9ee9-4c96b184d570"><i class="material-icons">menu</i></a><ul class="sidenav" id="d8282e0a-7afc-4422-9ee9-4c96b184d570"><li><a href="#!" class="dropdown-trigger" data-target="0f675642-cb92-4ca8-bd52-2afd39b74f5d" data-constrainWidth="false">Get Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="8c492a1d-745c-4cc9-90df-cc8f32b6a882" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="39d12064-b9c4-4733-a85d-db25e583f8dd" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="a91d52c7-13ec-4c2a-a375-e495ac56f063" data-constrainWidth="false">EU Horizon2020-IF<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="publication_highlights/publication_highlights.html">Highlights</a></li><li><a href="#!" class="dropdown-trigger" data-target="4b91e760-9e1c-4360-ba89-8502d47f1bc0" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="contribute/index.html">Contact</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="44d5de41-f357-429b-ba92-a17a61d7cf7d"><li><a href="getting_started/install.html">Install FERRET</a></li><li><a href="getting_started/update.html">Update FERRET</a></li><li><a href="getting_started/running.html">Running FERRET</a></li><li><a href="getting_started/paraview.html">Visualization Tools</a></li><li><a href="getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="9ff64a38-5a3c-451f-a5ea-add745d9c4e0"><li><a href="theory/intro_LGD.html">Phase Field Method of Ferroelectricity (FE)</a></li><li><a href="theory/intro_LLG.html">Micromagnetic Simulations</a></li><li><a href="theory/intro_piezo.html">Piezoelectricity</a></li><li><a href="theory/intro_thermo.html">Thermoelectric Phenomena</a></li><li><a href="theory/intro_optical.html">Optical Properties</a></li></ul><ul class="dropdown-content" id="f7b724f0-97ea-4d3d-87c2-b1652cf39e66"><li><a href="tutorials/FE_phase_field_multi_domain.html">Multidomain ferroelectric</a></li><li><a href="tutorials/ferroelectric_domain_wall.html">Ferroelectric domain wall</a></li><li><a href="tutorials/FE_phase_field_multi_domain_coupled.html">Ferroelectric thin film</a></li><li><a href="tutorials/magnetic_ringdown.html">Magnetic ringdown</a></li><li><a href="tutorials/AFM_dynamics.html">Antiferromagnetic dynamics</a></li><li><a href="tutorials/piezoelectric.html">Piezoelectric actuation</a></li><li><a href="tutorials/thermoelectric.html">Polycrystalline thermoelectric transport</a></li></ul><ul class="dropdown-content" id="d2f980d6-16bb-4590-a978-d09111cf34f9"><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_results1.html">Background and model</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_results2.html">Summary of key results</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex1.html">Example (ground states)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex2.html">Example (FE DWs)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex3.html">Example (magnetic DWs)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex4.html">Example (ME switching)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex5.html">Example (spin wave transport)</a></li></ul><ul class="dropdown-content" id="317b6a91-f8ca-4a22-af32-ed6ffb6bcef2"><li><a href="syntax/index.html">Complete syntax</a></li><li><a href="syntax/ferret_only_syntax.html">FERRET syntax</a></li></ul><ul class="dropdown-content" id="0f675642-cb92-4ca8-bd52-2afd39b74f5d"><li><a href="getting_started/install.html">Install FERRET</a></li><li><a href="getting_started/update.html">Update FERRET</a></li><li><a href="getting_started/running.html">Running FERRET</a></li><li><a href="getting_started/paraview.html">Visualization Tools</a></li><li><a href="getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="8c492a1d-745c-4cc9-90df-cc8f32b6a882"><li><a href="theory/intro_LGD.html">Phase Field Method of Ferroelectricity (FE)</a></li><li><a href="theory/intro_LLG.html">Micromagnetic Simulations</a></li><li><a href="theory/intro_piezo.html">Piezoelectricity</a></li><li><a href="theory/intro_thermo.html">Thermoelectric Phenomena</a></li><li><a href="theory/intro_optical.html">Optical Properties</a></li></ul><ul class="dropdown-content" id="39d12064-b9c4-4733-a85d-db25e583f8dd"><li><a href="tutorials/FE_phase_field_multi_domain.html">Multidomain ferroelectric</a></li><li><a href="tutorials/ferroelectric_domain_wall.html">Ferroelectric domain wall</a></li><li><a href="tutorials/FE_phase_field_multi_domain_coupled.html">Ferroelectric thin film</a></li><li><a href="tutorials/magnetic_ringdown.html">Magnetic ringdown</a></li><li><a href="tutorials/AFM_dynamics.html">Antiferromagnetic dynamics</a></li><li><a href="tutorials/piezoelectric.html">Piezoelectric actuation</a></li><li><a href="tutorials/thermoelectric.html">Polycrystalline thermoelectric transport</a></li></ul><ul class="dropdown-content" id="a91d52c7-13ec-4c2a-a375-e495ac56f063"><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_results1.html">Background and model</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_results2.html">Summary of key results</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex1.html">Example (ground states)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex2.html">Example (FE DWs)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex3.html">Example (magnetic DWs)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex4.html">Example (ME switching)</a></li><li><a href="MSCA_EU_Horizon2020_Results/horizon2020_ex5.html">Example (spin wave transport)</a></li></ul><ul class="dropdown-content" id="4b91e760-9e1c-4360-ba89-8502d47f1bc0"><li><a href="syntax/index.html">Complete syntax</a></li><li><a href="syntax/ferret_only_syntax.html">FERRET syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="6d589544-e8e0-4be8-94e4-9c613028b684" data-section-level="1" data-section-text="The command hit"><h1 id="the-command">The <code>hit</code> command</h1><p><em>Hierarchial Input Text</em> (HIT) is the file format that MOOSE input files (and <code>tests</code> specs) are built upon. HIT is a key-value pair syntax with multilevel block hierarchies. To deal with HIT files we provide the <code>hit</code> executable, which is automatically built under <code>framework/contrib/hit</code>. This command line tool offers multiple functions for</p><ul class="browser-default"><li><p>Finding parameters across many input files in a context sensitive way </p></li><li><p>Validating input files </p></li><li><p>Formatting input files according to a user defined style </p></li><li><p>Merging input files </p></li><li><p>Diffing input files </p></li><li><p>Extracting common portions of input files </p></li><li><p>Subtracting out common portions of input files</p></li></ul><section id="ffd00a35-a659-47a9-89cf-40b58ad4378a" data-section-level="2" data-section-text="- Searching for parameters hit find"><h2 id="searching-for-parameters"><code>hit find</code> - Searching for parameters</h2><pre class="moose-pre"><code class="language-text">
hit find [-i] [-v] [-p additional_pattern [...] --] main_pattern files ...
</code></pre><p><code>hit find</code> looks for a full parameter path that can be specified with wildcards as <code>main_pattern</code>. <code>*</code> will match an arbitrary set of characters and <code>?</code> will match a single character. In the input</p><pre class="moose-pre"><code class="language-text">
[Kernels]
  [diff]
    type = Diffusion
    variable = a
  []
[]
</code></pre><p>the main pattern <code>Kernels/*/variable</code> will match the variable line, as will <code>Kernels/*/variable=a</code>, <code>*iable=?</code>, and <code>*/diff/*=a</code>, but <code>Kernels/*/variable=b</code> will not match.</p><p>An <code>!=</code> operator is also available for negative matching. In the example above <code>Kernels/*/variable!=b</code> will match the variable line.</p><p>The <code>-i</code> option will turn all matching case insensitive (useful to match MooseEnum values).</p><p>The <code>-v</code> option will list all files that do not have a single match, which can be used to check for the absence of patterns.</p><p>The <code>-p</code> option will match additional parameters inside the blocks matched by the main pattern. For example <code>hit find -p type=Diffusion -- Kernels/*/variable=a</code> will match the snippet above, and any kernel acting on the variable <code>a</code> that has <code>type = Diffusion</code> (and so would <code>hit find -p type!=NeumannBC -- Kernels/*/variable=a</code>)</p><section id="844f29e6-6afc-41dc-908a-ec00d39347ef" data-section-level="3" data-section-text="Examples"><h3 id="examples">Examples</h3><pre class="moose-pre"><code class="language-text">
hit find Outputs/file_base **/*.i
</code></pre><p>Will find all inputs that contain the <code>file_base</code> parameter in the <code>[Outputs]</code> block.</p><pre class="moose-pre"><code class="language-text">
hit find Outputs/file_base **/*.i
</code></pre><pre class="moose-pre"><code class="language-text">
hit find -v Modules/TensorMechanics/Master/* **/*.i
</code></pre><p>Will find all files that do not (<code>-v</code>) contain use of the TensorMechanics master action.</p><pre class="moose-pre"><code class="language-text">
hit find BCs/*/boundary=left **/*.i
</code></pre><p>Will find all boundary conditions that are applied to just the <code>left</code> sideset.</p><pre class="moose-pre"><code class="language-text">
hit find BCs/*/boundary!=left **/*.i
</code></pre><p>Will find all boundary conditions that are <em>not</em> applied to just the <code>left</code> sideset.</p><pre class="moose-pre"><code class="language-text">
hit find -p type=FunctionDirichletBC -- BCs/*/boundary=\*right\* **/*.i
</code></pre><p>Will find all <code>FunctionDirichletBC</code>s that are applied to the <code>right</code> sideset (and possibly others). This will also match <code>boundary=inner_right</code> so some filtering of the results with <code>grep</code> may be necessary.</p><pre class="moose-pre"><code class="language-text">
hit find -i -p formulation=mortar mortar_approach -- Contact/*/model=coulomb **/*.i
</code></pre><p>Will find all inputs that contain a <code>Contact</code> action block with <code>model = COULOMB</code> (case insensitive match using <code>-i</code>) and have the <code>formulation</code> parameter set to <code>mortar</code> <em>and</em> have also specified a <code>mortar_approach</code> parameter (with whatever value). Not that multiple arguments are supplied to the <code>-p</code> parameter and the list is terminated with a double dash <code>--</code>, after which the main pattern and the list of files to search follow.</p></section></section><section id="6d37cdc4-5e43-4685-a9f0-90e85dee7da8" data-section-level="2" data-section-text="- Formatting input files hit format"><h2 id="formatting-input-files"><code>hit format</code> - Formatting input files</h2><pre class="moose-pre"><code class="language-text">
hit format [-i] [-style file] input
</code></pre><p>The format subcommand will reformat a valid HIT file into a cannonical form with a consistent indentation and potentially sorted sections and parameters. The name of the file to be formatted is given as the <code>input</code> parameter. When specifying <code>-</code> as the filename the input is taken from stdin.</p><p>The formatted input will be output to terminal unless the <code>-i</code> option is supplied, which enables inplace formatting of the supplied <code>input</code> file.</p><p>The formatting style can be user defined using the <code>-style</code> parameter. The argument is the name of a style file of the format:</p><pre class="moose-pre"><code class="language-text">
    [format]
        indent_string = &quot;  &quot;
        line_length = 100
        canonical_section_markers = true

        [sorting]
            [pattern]
                section = &quot;[^/]+/[^/]+&quot;
                order = &quot;type&quot;
            []
            [pattern]
                section = &quot;&quot;
                order = &quot;Mesh ** Executioner Outputs&quot;
            []
        []
    []
</code></pre><p>where all fields are optional and the sorting section is also optional.  If the sorting section is present, you can have as many patterns as you want, but each pattern section must have &#x27;section&#x27; and &#x27;order&#x27; fields.</p><p>Note that single <code>&#x27;</code> and double <code>&quot;</code> quotes behave differently when auto-formatting input files with <code>hit format</code>. Single quotes strings will not be reformatted, while double quoted strings are reindented and reflowed. <em>Multiline strings</em> will only be reindented through inserting or removing spaces on the lines following the first line, to match any changes in indentation of the first line. <em>Single line strings</em> will be reflowed according to the set <code>line_length</code>.</p></section><section id="d7c5c87d-be2b-41b3-861d-ccc2b901f725" data-section-level="2" data-section-text="- Combining input files hit merge"><h2 id="combining-input-files"><code>hit merge</code> - Combining input files</h2><pre class="moose-pre"><code class="language-text">
hit merge -output outfile.i infile1.i infile2.i ...
</code></pre><p>will produce a single file <code>outfile.i</code> that is a merge of the <code>infile*.i</code> inputs (which would result in the same MOOSE simulation as the multiple input files).</p></section><section id="21d91476-a5ef-47c1-8937-7da4cc38ff79" data-section-level="2" data-section-text="- Highlighting differences between input files hit diff"><h2 id="highlighting-differences-between-input-files"><code>hit diff</code> - Highlighting differences between input files</h2><pre class="moose-pre"><code class="language-text">
hit diff left.i right.i
</code></pre><p>or</p><pre class="moose-pre"><code class="language-text">
hit diff -left left1.i left2.i ... -right right1.i right2.i ...
</code></pre><p>performs a diff on the left and right files (in the second example merging all left and right files respectively first). This diff is not sensitive to order, formatting, or comments in the input files.</p></section><section id="43d05ece-6f89-48e2-9a97-4b652e15a471" data-section-level="2" data-section-text="- Extract common parameters between inputs hit common"><h2 id="extract-common-parameters-between-inputs"><code>hit common</code> - Extract common parameters between inputs</h2><pre class="moose-pre"><code class="language-text">
hit common file1.i file2.i ... &gt; common_parameters.i
</code></pre><p>Will extract all parameters that are common to the specified input files (and have the same values). This can be used as the <em></em>first step** in factoring out common settings into a single input file.</p></section><section id="cd7c8ada-389c-4436-a274-4443a774f687" data-section-level="2" data-section-text="- Removing common parameters parameters hit subtract"><h2 id="removing-common-parameters-parameters"><code>hit subtract</code> - Removing common parameters parameters</h2><pre class="moose-pre"><code class="language-text">
hit subtract simulation_1_full.i common_parameters.i &gt; simulation_1.i
</code></pre><p>removes the parameters in <code>common_parameters.i</code> from <code>simulation_1_full.i</code>, creating <code>simulation_1.i</code>. This is the <em></em>second step** in factoring out common parameters from a set of input files. The resulting file can be run as <code>./mooseapp-opt -i common.i simulation_1.i</code> and will result in the same simulation as <code>./mooseapp-opt -i simulation_1_full.i</code>. </p></section></section></div></div></div></main></div></body><script type="text/javascript" src="contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="contrib/prism/prism.min.js"></script><script type="text/javascript" src="js/init.js"></script><script type="text/javascript" src="js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="js/sqa_moose.js"></script>